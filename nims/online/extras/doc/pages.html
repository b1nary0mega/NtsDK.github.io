<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Страницы &mdash; Документация НИМС набор инструментов мастера-сюжетника 0.4.4u3</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.4.4u3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Документация НИМС набор инструментов мастера-сюжетника 0.4.4u3" href="nims.html" />
    <link rel="next" title="Экспорт вводных" href="export.html" />
    <link rel="prev" title="Быстрый старт" href="quickStart.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="export.html" title="Экспорт вводных"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="quickStart.html" title="Быстрый старт"
             accesskey="P">назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="nims.html">Документация НИМС набор инструментов мастера-сюжетника 0.4.4u3</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>Страницы<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="header-desc">
<span id="id2"></span><h2>Заголовок<a class="headerlink" href="#header-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>Вверху страницы находятся основная навигация и кнопки для работы с базой.</p>
<p>Основные вкладки</p>
<blockquote>
<div><p><strong>Обзор</strong> - общая информация об игре и статистика.</p>
<p><strong>Персонажи</strong> - управление персонажами и досье.</p>
<p><strong>Истории</strong> - заполнение историй: создание событий, перечень персонажей с указанием инвентаря и активности, ассоциация персонажей и событий.</p>
<p><strong>Адаптации</strong> - детализация видения событий для каждого персонажа.</p>
<p><strong>Вводные</strong> - предварительный просмотр и экспорт вводных.</p>
</div></blockquote>
<p>Вкладки просмотра данных</p>
<blockquote>
<div><p><strong>Хронология</strong> - просмотр хронологии событий, уточнение времени событий.</p>
<p><strong>Социальная сеть</strong> - просмотр графа социальных взаимодействий.</p>
<p><strong>Фильтр</strong> - поиск персонажей по досье.</p>
</div></blockquote>
<p>Управление базой</p>
<blockquote>
<div><p><strong>Загрузить</strong> - загрузка базы из файла.</p>
<p><strong>Сохранить</strong> - сохранение базы в файл.</p>
<p><strong>Новая база</strong> - создание новой базы.</p>
<p><strong>Помощь</strong> - открывает справку в новой вкладке.</p>
<p><strong>Администрирование (в серверной версии)</strong> - управление правами на персонажей, истории и адаптации, включение режима редактора.</p>
<p><strong>Логи</strong> - история действий пользователей НИМС: создание/переименование/удаление персонажей и историй и т.д.</p>
</div></blockquote>
<div class="figure" id="id19">
<img alt="_images/0_header.jpg" src="_images/0_header.jpg" />
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">Заголовок</span></p>
</div>
</div>
<div class="section" id="overview-desc">
<span id="id3"></span><h2>Обзор<a class="headerlink" href="#overview-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>Это первая страница, открывающаяся при старте НИМС.</p>
<p>Содержание страницы</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Название</span></code> - здесь указывается название игры.</p>
<p><code class="docutils literal"><span class="pre">Дата</span> <span class="pre">начала</span> <span class="pre">доигровых</span> <span class="pre">событий</span></code> - дата начала доигровых событий.</p>
<p><code class="docutils literal"><span class="pre">Дата</span> <span class="pre">окончания</span> <span class="pre">доигровых</span> <span class="pre">событий</span></code> - дата начала игры в мире игры. Между этими двумя датами будут происходить доигровые <em>события</em>. Эти даты необходимы для выставления границ хронологии. Можно выставлять даты событий и вне указанного временного промежутка. Введенные значения играют вспомогательную роль. Если у события не указано время, то оно по умолчанию заменяется игровой датой.</p>
<p><code class="docutils literal"><span class="pre">Время</span> <span class="pre">последнего</span> <span class="pre">сохранения</span> <span class="pre">базы</span></code> - это время последнего сохранения базы в файл.</p>
<p><code class="docutils literal"><span class="pre">Описание</span></code> - текст с описанием игры. Ни на что не влияет, но мы решили, что он тут должен быть) При желании мастера могут вести тут какие-то общие заметки для себя.</p>
<p><code class="docutils literal"><span class="pre">Статистика</span></code> - общие данные об открытой базе:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">количество</span> <span class="pre">историй/персонажей/событий</span></code></p>
<p><code class="docutils literal"><span class="pre">количество</span> <span class="pre">пользователей</span></code> - нужно для серверной версии)</p>
<p><code class="docutils literal"><span class="pre">первое</span> <span class="pre">и</span> <span class="pre">последнее</span> <span class="pre">события</span> <span class="pre">в</span> <span class="pre">базе</span></code> по хронологии</p>
<p><code class="docutils literal"><span class="pre">количество</span> <span class="pre">знаков</span> <span class="pre">в</span> <span class="pre">текстах</span></code> - считаются мастерские истории, тексты событий и адаптаций</p>
<p><code class="docutils literal"><span class="pre">количество</span> <span class="pre">завершенных</span> <span class="pre">историй</span></code> - число историй, у которых все адаптации отмечены, как завершенные</p>
<p><code class="docutils literal"><span class="pre">общая</span> <span class="pre">завершенность</span></code> - число адаптаций, отмеченных как завершенные</p>
</div></blockquote>
</div></blockquote>
<div class="figure" id="id20">
<img alt="_images/1_1_overview.jpg" src="_images/1_1_overview.jpg" />
<p class="caption"><span class="caption-number">Fig. 2 </span><span class="caption-text">Вкладка Обзор-Описание</span></p>
</div>
<p>На подвкладке Диаграммы приводятся стандартные гистограммы и круговые диаграммы. Число на столбце гистограммы означает высоту столбца. При наведении мышью на столбец приводится детализация: значение и дополнительная информация. Например, на рисунке сообщение &#8220;4: Ряба, Маша и медведь&#8221;, означает, что в историях Ряба и &#8220;Маша и медведь&#8221; задействовано по 4 персонажа. Над круговыми диаграммами показывается название доли и её размер.</p>
<p>Стандартные диаграммы</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Количество</span> <span class="pre">событий</span> <span class="pre">в</span> <span class="pre">историях</span></code> - гистограмма, показывающая сводку по количеству событий в историях.</p>
<p><code class="docutils literal"><span class="pre">Количество</span> <span class="pre">персонажей</span> <span class="pre">в</span> <span class="pre">историях</span></code> - гистограмма, показывающая сводку по количеству персонажей в историях.</p>
<p><code class="docutils literal"><span class="pre">Детальная</span> <span class="pre">завершенность</span> <span class="pre">историй</span></code> - гистограмма, показывающая сводку по завершенности историй. Крайне левое значение - ни одна адаптация не завершена. Крайне правое - все адаптации в истории завершены.</p>
<p><code class="docutils literal"><span class="pre">Принадлежность</span> <span class="pre">объектов</span></code> - доли персонажей и историй принадлежащих пользователям в серверном режиме.</p>
</div></blockquote>
<p>Диаграммы досье строятся автоматически для полей вида число (гистограмма), единственный выбор и галочка (круговая диаграмма). Гистограмма для числовых полей строится с шагом 5 для значимого интервала (первый столбец не обязан начинаться с нуля).</p>
<div class="figure" id="id21">
<img alt="_images/1_2_diagrams.jpg" src="_images/1_2_diagrams.jpg" />
<p class="caption"><span class="caption-number">Fig. 3 </span><span class="caption-text">Вкладка Обзор-Диаграммы</span></p>
</div>
</div>
<div class="section" id="characters-desc">
<span id="id4"></span><h2>Персонажи<a class="headerlink" href="#characters-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>На странице Персонажи есть общая часть и две дополнительных вкладки: досье и редактор досье.</p>
<p>Общая часть включает в себя элементы для создания/переименование/удаления персонажей в верхней части вкладки.</p>
<div class="figure" id="id22">
<img alt="_images/2_1_characterProfile.jpg" src="_images/2_1_characterProfile.jpg" />
<p class="caption"><span class="caption-number">Fig. 4 </span><span class="caption-text">Вкладка Персонажи</span></p>
</div>
</div>
<div class="section" id="characters-profile">
<span id="id5"></span><h2>Персонажи. Досье<a class="headerlink" href="#characters-profile" title="Ссылка на этот заголовок">¶</a></h2>
<p>На вкладке <code class="docutils literal"><span class="pre">Досье</span></code> происходит заполнение досье персонажа. В левой части экрана выбирается персонаж. По центру показано досье. Внесенные в досье изменения сохраняются автоматически. Подробнее про типы данных в досье можно прочитать в описании <code class="docutils literal"><span class="pre">Редактора</span> <span class="pre">досье</span></code>.</p>
<div class="figure" id="id23">
<img alt="_images/2_1_characterProfile.jpg" src="_images/2_1_characterProfile.jpg" />
<p class="caption"><span class="caption-number">Fig. 5 </span><span class="caption-text">Вкладка Персонажи. Досье</span></p>
</div>
</div>
<div class="section" id="characters-profile-editor">
<span id="id6"></span><h2>Персонажи. Редактор досье<a class="headerlink" href="#characters-profile-editor" title="Ссылка на этот заголовок">¶</a></h2>
<p>На вкладке <code class="docutils literal"><span class="pre">Редактор</span> <span class="pre">досье</span></code> выполняется редактирование досье персонажей: добавление/изменение/удаление полей в досье. В верхней части вкладки находятся элементы управления для создания, перемещения и удаления полей. Имена полей должны быть уникальны. Все текущие поля показаны в таблице: <code class="docutils literal"><span class="pre">`Название</span></code>, <code class="docutils literal"><span class="pre">Тип</span></code>, <code class="docutils literal"><span class="pre">Значения</span></code> и <code class="docutils literal"><span class="pre">Печатать</span> <span class="pre">во</span> <span class="pre">вводных</span></code>. То, что указано в поле <code class="docutils literal"><span class="pre">Значения</span></code> является значением по умолчанию для всех полей, кроме единственного выбора. В единственном выборе значением по умолчанию является первый элемент. Поля с установленной галочкой <code class="docutils literal"><span class="pre">Печатать</span> <span class="pre">во</span> <span class="pre">вводных</span></code> будут выводиться во вводные.</p>
<p>Типы полей:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Текст</span></code> - поле для хранения текстовых данных. Пример: биография персонажа.</p>
<p><code class="docutils literal"><span class="pre">Строка</span></code> - поле хранит одну строку. Пример: вероисповедание</p>
<p><code class="docutils literal"><span class="pre">Единственный</span> <span class="pre">выбор</span></code> - поле содержащее перечисление значений из которых может быть выбрано только одно. Значения единственного выбора указываются через запятую. Первое значение является значением по умолчанию. Пример: пол ж, м, не важно</p>
<p><code class="docutils literal"><span class="pre">Число</span></code> - числовое значение. Пример: возраст персонажа</p>
<p><code class="docutils literal"><span class="pre">Галочка</span></code> - поле хранит значение да/нет.</p>
</div></blockquote>
<div class="figure" id="id24">
<img alt="_images/2_3_characterProfileConfigurer.jpg" src="_images/2_3_characterProfileConfigurer.jpg" />
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">Вкладка Персонажи. Редактор досье</span></p>
</div>
</div>
<div class="section" id="story-desc">
<span id="id7"></span><h2>Истории<a class="headerlink" href="#story-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>На странице Истории осуществляется заполнение мастерских версий историй. В общую часть входят следующие элементы: создание/переименование/удаление историй, заполнение мастерской версии истории. Заполнять мастерскую версию не обязательно, но по нашему опыту бывает полезно иметь всю историю перед глазами. При работе с историями можно включить режим работы с одной вкладкой или с двумя вкладками. Можно выбрать любую комбинацию вкладок. Чтобы спрятать вкладку кликните на активный заголовок. На данном рисунке активны две панели. Далее будут скриншоты и для однопанельного режима.</p>
<p>В левой части экрана расположен элемент для выбора текущей истории.</p>
<div class="figure" id="id25">
<img alt="_images/3_1_masterStory.jpg" src="_images/3_1_masterStory.jpg" />
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">Вкладка Истории</span></p>
</div>
</div>
<div class="section" id="story-events">
<span id="id8"></span><h2>Истории. События<a class="headerlink" href="#story-events" title="Ссылка на этот заголовок">¶</a></h2>
<p>На вкладке события выполняется разбиение истории на события. У каждого события есть следующие атрибуты: название (не уникально), текст, позиция и время. Кроме обычных операций создания/удаления/перемещения событий добавлены операции клонирования и объединения событий. Клонирование создает полную копию события с созданием копии текстов адаптаций (см. раздел <a class="reference internal" href="#events-desc"><span>Адаптации</span></a>). Объединение событий соединяет два подряд идущих события в одно. Объединяется все: название, описание и адаптации.</p>
<p>В таблице события приведены в том порядке, в котором их укажет мастер, а не в хронологическом порядке. Переименование и обновление текста событий сохраняется при завершении редактирования, то есть немедленно. Справа указано точное время наступления события. Если поле подсвечено красным, значит используется значение по умолчанию - время окончания доигровых событий.</p>
<div class="figure" id="id26">
<img alt="_images/3_2_storyEvents.jpg" src="_images/3_2_storyEvents.jpg" />
<p class="caption"><span class="caption-number">Fig. 8 </span><span class="caption-text">Вкладка События</span></p>
</div>
</div>
<div class="section" id="story-characters">
<span id="id9"></span><h2>Истории. Персонажи<a class="headerlink" href="#story-characters" title="Ссылка на этот заголовок">¶</a></h2>
<p>На вкладке Персонажи выполняется добавление/удаление/замещение персонажей в истории. При замещении все данные от старого персонажа переходят к новому. Так что да, Ромео не приехал, его место займет Меркуцио)</p>
<p>Здесь же приведено две таблицы. Первая таблица указывает вид активности персонажа в истории. Описание видов активности приведено в разделе <a class="reference internal" href="theory.html#secondary-entities-desc"><span>Вторичные сущности</span></a>.</p>
<div class="figure" id="id27">
<img alt="_images/3_3_storyCharacters.jpg" src="_images/3_3_storyCharacters.jpg" />
<p class="caption"><span class="caption-number">Fig. 9 </span><span class="caption-text">Вкладка Истории. Персонажи</span></p>
</div>
</div>
<div class="section" id="story-presence">
<span id="id10"></span><h2>Истории. Присутствие<a class="headerlink" href="#story-presence" title="Ссылка на этот заголовок">¶</a></h2>
<p>На этой вкладке определяется участие персонажей в тех или иных событиях. В таблице в первом столбце перечислены названия событий. В заголовке имена персонажей истории. Отметьте галочками пересечение персонажа и события, если персонаж принял в них участие. Снятие галочки приводит к удалению уже существующих адаптаций событий (см. раздел <a class="reference internal" href="#events-desc"><span>Адаптации</span></a>). На всякий случай в этом месте всегда выскакивает напоминалка.</p>
<p>Слева находится список-фильтр персонажей. С его помощью мы указываем каких персонажей мы хотим видеть в таблице справа (множественный выбор через ctrl/shift). Это сделано для работы с историями с большим количеством персонажей.</p>
<div class="figure" id="id28">
<img alt="_images/3_4_eventPresence.jpg" src="_images/3_4_eventPresence.jpg" />
<p class="caption"><span class="caption-number">Fig. 10 </span><span class="caption-text">Вкладка Истории. Присутствие</span></p>
</div>
</div>
<div class="section" id="events-desc">
<span id="id11"></span><h2>Адаптации<a class="headerlink" href="#events-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>У каждого персонажа может быть свое видение происходящих событий, поэтому для событий необходимо сделать адаптацию как это событие выглядело с точки зрения того или иного персонажа.</p>
<p>Слева сверху расположен селектор истории (единственный выбор). Слева снизу расположен переключатель фильтра - по персонажам и по событиям (множественный выбор через ctrl/shift). По центру отображаются таблица из двух столбцов. В левом столбце выводится оригинальное описание события, которое можно редактировать. В правом столбце выводятся текстовые поля с описанием события для каждого выбранного персонажа - текст адаптации. Таким образом в один момент времени можно работать, как с адаптацией одного персонажа, так и с несколькими персонажами одновременно. Под текстом адаптации выводится галочка - отметка о завершении работы над адаптацией. Сверху расположена галочка-фильтр завершенных историй. История считается завершенной, если проставлены галочки о завершении всех адаптаций.</p>
<p>Оригинал события состоит из названия события, времени события и текста. Адаптация события состоит из имени персонажа, субъективного времени и текста адаптации. Если текст адаптации пуст, то во вводную пойдет текст оригинала. По аналогии если субъективное время не указано, то во вводную пойдёт время события как есть.</p>
<p>Размер левого столбца с селектором истории и фильтрами событий/персонажей можно регулировать с помощью таскаемого уголка (см. скриншот).</p>
<div class="figure" id="id29">
<img alt="_images/4_events.jpg" src="_images/4_events.jpg" />
<p class="caption"><span class="caption-number">Fig. 11 </span><span class="caption-text">Вкладка События</span></p>
</div>
</div>
<div class="section" id="breifings-preview">
<span id="id12"></span><h2>Вводные. Предварительный просмотр<a class="headerlink" href="#breifings-preview" title="Ссылка на этот заголовок">¶</a></h2>
<p>Прежде чем экспортировать вводные, можно посмотреть какая информация будет выведена, используя вкладку предварительного просмотра. В заголовке панели находится селектор персонажа, для которого мы хотим посмотреть вводную. При просмотре вводной доступны следующие опции:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Группировать</span> <span class="pre">события</span> <span class="pre">по</span> <span class="pre">историям</span></code> и <code class="docutils literal"><span class="pre">Сортировать</span> <span class="pre">события</span> <span class="pre">по</span> <span class="pre">хронологии</span></code> - выбор способа представления событий.</p>
<p><code class="docutils literal"><span class="pre">Свернуть</span> <span class="pre">все</span> <span class="pre">панели</span></code> - в предварительном просмотре вводные персонажа разбиты на панели: инвентарь, досье, и в зависимости от способа отображения событий будут показаны панели для историй или группы событий по пять штук. В зависимости от этой галочки все панели будут изначально свёрнуты или развёрнуты.</p>
<p><code class="docutils literal"><span class="pre">Отключить</span> <span class="pre">заголовки</span></code> - возможность отключения заголовков в предварительном просмотре. Так как заголовки могут содержать излишнюю информацию, может возникнуть необходимость не выводить их во вводных и вычитка вводных может производиться с учётом этого.</p>
</div></blockquote>
<p>Поле <code class="docutils literal"><span class="pre">Субъктивное</span> <span class="pre">время</span></code> показывает время события, которое получит персонаж во вводной. Если поле пусто, он увидит время как есть.</p>
<p>Обращаю ваше внимание - если в событии присутствует кнопка <code class="docutils literal"><span class="pre">Разблокировать</span> <span class="pre">редактирование</span> <span class="pre">оригинала</span> <span class="pre">события</span></code>, значит для персонажа не была написана адаптация текста события и он увидит его как есть. Редактирование такого поля является редактированием текста события. В противном случае вы редактируете адаптацию события.</p>
<div class="figure" id="id30">
<img alt="_images/5_1_briefingPreview.jpg" src="_images/5_1_briefingPreview.jpg" />
<p class="caption"><span class="caption-number">Fig. 12 </span><span class="caption-text">Вкладка Вводные. Предварительный просмотр</span></p>
</div>
</div>
<div class="section" id="breifings-export">
<span id="id13"></span><h2>Вводные. Экспорт<a class="headerlink" href="#breifings-export" title="Ссылка на этот заголовок">¶</a></h2>
<p>На вкладке экспорта доступны следующие опции. Вводные можно выводить одним файлом, либо каждую в отдельный файл. Во втором случае вводные будут выгружены в zip архиве. Можно выводить как все вводные, так и только некоторые. Возможна выгрузка поштучно, интервалами по 5, 10 и 20 вводных или случайный выбор (самый гибкий, но и самый трудоёмкий вариант).</p>
<p>В разделе Простая выгрузка перечислены несколько встроенных шаблонов: <code class="docutils literal"><span class="pre">выгрузка</span> <span class="pre">в</span> <span class="pre">docx</span> <span class="pre">c</span> <span class="pre">событиями</span> <span class="pre">по</span> <span class="pre">хронологии</span></code>, <code class="docutils literal"><span class="pre">выгрузка</span> <span class="pre">в</span> <span class="pre">docx</span> <span class="pre">c</span> <span class="pre">событиями</span> <span class="pre">по</span> <span class="pre">историям</span></code>, <code class="docutils literal"><span class="pre">выгрузка</span> <span class="pre">таблицы</span> <span class="pre">с</span> <span class="pre">инвентарем</span></code> и <code class="docutils literal"><span class="pre">выгрузка</span> <span class="pre">в</span> <span class="pre">текстовый</span> <span class="pre">файл</span></code>.</p>
<div class="figure" id="id31">
<img alt="_images/5_2_1_standardExport.jpg" src="_images/5_2_1_standardExport.jpg" />
<p class="caption"><span class="caption-number">Fig. 13 </span><span class="caption-text">Вкладка Вводные. Экспорт-Простая выгрузка</span></p>
</div>
<p>По готовности выгруженного файла будет выведен дополнительный запрос на сохранение (см. рис.). Ранее возникала ошибка при сохранении файла. После добавления этого диалога проблема исчезла.</p>
<div class="figure" id="id32">
<img alt="_images/5_2_4_extraConfirm.jpg" src="_images/5_2_4_extraConfirm.jpg" />
<p class="caption"><span class="caption-number">Fig. 14 </span><span class="caption-text">Вкладка Вводные. Экспорт-дополнительный запрос выгрузки</span></p>
</div>
<p>В разделе продвинутой выгрузки необходимо загрузить свой собственный шаблон docx. Шаблон может включать в себя как все данные, так и только часть из них. Примеры шаблонов распространяются вместе с НИМС. Язык шаблона очень похож на язык текстовой выгрузки Mustache. Текстовые выгрузки доступны прямо в странице, поэтому учиться работе с шаблонами рекомендуется на них (следующий раздел).</p>
<div class="figure" id="id33">
<img alt="_images/5_2_2_customDocx.jpg" src="_images/5_2_2_customDocx.jpg" />
<p class="caption"><span class="caption-number">Fig. 15 </span><span class="caption-text">Вкладка Вводные. Экспорт-Продвинутая выгрузка docx</span></p>
</div>
<p>На странице текстовой выгрузки слева находится поле с шаблоном, справа выводится текст с результатами применения этого шаблона. Шаблон по умолчанию включает все доступные для выгрузки данные о персонажах. Поля для вставки отмечаются с помощью двойных фигурных скобок {{...}}. Некоторые специальные символы при вставке экранируются и превращаются в белиберду. Это нормально) Чтобы этого избежать используйте тройные фигурные скобки {{{...}}}. В частности запрещенным символом является слэш при указании времени. Попробуйте заменить {{{time}}} на {{time}}, чтобы посмотреть как изменится выдача. Кнопка <code class="docutils literal"><span class="pre">Предварительный</span> <span class="pre">просмотр</span></code> сгенерирует текст в правом поле. Выгрузка текстовых файлов осуществляется с помощью кнопки <code class="docutils literal"><span class="pre">Выгрузка</span></code>.</p>
<p>Поэкспериментировав с текстовой выгрузкой становится понятно что и как вы хотите вывести. Но нужно было разбираться с текстовыми шаблонами для docx, так как там есть некоторые отличия в механизме шаблонов. Специально для упрощения работы с docx было добавлено 2 кнопки. Кнопка <code class="docutils literal"><span class="pre">Конвертировать</span> <span class="pre">в</span> <span class="pre">docx</span> <span class="pre">шаблон</span></code> преобразует текущий текстовый шаблон в docx шаблон. Далее вы можете открыть полученный файл, настроить внешний вид и применить этот шаблон на странице с продвинутой выгрузкой. Кнопка <code class="docutils literal"><span class="pre">Сгенерировать</span> <span class="pre">в</span> <span class="pre">docx</span> <span class="pre">по</span> <span class="pre">текущему</span> <span class="pre">шаблону</span></code> преобразует текущий текстовый шаблон в docx шаблон и тут же применяет имеющиеся данные к docx шаблону для получения результата. Полученный таким образом docx файл можно использовать для проверки выгрузки, так как он будет фактически без оформления.</p>
<p>Так же можно указать нужное расширение файла, при формировании текстов (txt, html и др.).</p>
<div class="admonition warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Текст шаблона не сохраняется в НИМС, если вы уйдете с вкладки и вернетесь обратно, то текст будет сброшен.</p>
</div>
<div class="figure" id="id34">
<img alt="_images/5_2_3_customTxt.jpg" src="_images/5_2_3_customTxt.jpg" />
<p class="caption"><span class="caption-number">Fig. 16 </span><span class="caption-text">Вкладка Вводные. Экспорт-Продвинутая текстовая выгрузка</span></p>
</div>
</div>
<div class="section" id="timeline-desc">
<span id="id14"></span><h2>Хронология<a class="headerlink" href="#timeline-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>На этой вкладке отображается хронология событий. Слева находится селектор событий. Чтобы сделать множественный выбор зажмите ctrl и выбирайте элементы в списке. Масштаб хронологии изменяется с помощью колесика мыши. Красным отмечено время начала и завершения доигровых событий. События можно перетаскивать по хронологии. Для этого нажмите ЛКМ на событии и тащите его в нужную сторону. При этом следует учитывать, что от этих перемещений время событий в историях меняется автоматически.</p>
<p>Размер левого столбца с селектором историй можно регулировать с помощью таскаемого уголка (см. скриншот).</p>
<div class="admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Возможность перетаскивания событий в версии НИМС 0.4.2 была отключена по просьбе пользователей, чтобы не смещать события случайно.</p>
</div>
<div class="figure" id="id35">
<img alt="_images/6_timeline.jpg" src="_images/6_timeline.jpg" />
<p class="caption"><span class="caption-number">Fig. 17 </span><span class="caption-text">Вкладка Хронология</span></p>
</div>
</div>
<div class="section" id="social-network-desc">
<span id="id15"></span><h2>Социальная сеть<a class="headerlink" href="#social-network-desc" title="Ссылка на этот заголовок">¶</a></h2>
<p>На этой вкладке отрисовываются социальные сети на основе имеющихся данных. Поддерживаются несколько типов отрисовываемых сетей с разными видами узлов и связей между ними (см. далее типы графов). Отрисовка социальной сети требует большого количества ресурсов, поэтому перед ее использованием рекомендуется сохранить текущее состояние базы. Для отрисовки необходимо указать общие и частные параметры социальной сети и нажать кнопку <code class="docutils literal"><span class="pre">Нарисовать</span></code>.</p>
<p>После того как социальная сеть будет нарисована, список <code class="docutils literal"><span class="pre">Показать</span> <span class="pre">узел</span></code>, расположенный над общими параметрами будет заполнен. В этом списке находятся все узлы текущей социальной сети. Выберите узел из списка, чтобы сеть на нём отцентрировалась.</p>
<p>Общие параметры</p>
<p>Раскраска узлов выполняется на основе полей досье c типом <strong>единственный выбор</strong> и <strong>галочка</strong>. Вы можете выбрать любое из этих полей, а ниже будет приведена цветовая расшифровка.
Так же возможно три вида выборки.</p>
<ol class="arabic simple">
<li>Все данные. Будут отрисованы все данные.</li>
<li>Избранные персонажи. В этом случае появится список персонажей. Можно выбрать нескольких персонажей с помощью ctrl. В этом случае будут отрисованы выбранные персонажи, все истории, в которых задействованы эти персонажи и все остальные персонажи, пересекающиеся в событиях с избранными. Примечание: при отрисовке графа человек-история не все связи отображают реальные связи персонажей по событиям.</li>
<li>Избранные истории. В этом случае появится список историй. Можно выбрать несколько историй с помощью ctrl. В этом случае будут отрисованы все истории и все персонажи, входящие в истории.</li>
</ol>
<p>Частной настройкой является тип отрисовываемого графа. Поддерживаются следующие типы.</p>
<ol class="arabic simple">
<li>Социальные связи - сеть связей между персонажами. Узлы: персонажи. Связь между узлами: совместное участие персонажей в некотором событии. Чем толще связь, тем в больших историях эти персонажи пересекаются. При наведении на связь выводится список историй, в которых пересекаются эти персонажи.</li>
<li>Персонаж-участие-история - сеть связей персонажей и историй. Узлы: персонажи и истории. Связь между узлами: участие персонажа в истории. Размер истории пропорционален числу участников истории.</li>
<li>Персонаж-активность-история - сеть связей персонажей и историй на основе данных об активности. Узлы: персонажи и истории. Связь между узлами: активность персонажа в истории. См. раздел с описанием активностей. Можно выбирать несколько требуемых активностей через ctrl.</li>
</ol>
<div class="figure" id="id36">
<img alt="_images/7_socialNetwork.jpg" src="_images/7_socialNetwork.jpg" />
<p class="caption"><span class="caption-number">Fig. 18 </span><span class="caption-text">Вкладка Социальная сеть</span></p>
</div>
</div>
<div class="section" id="characters-filter">
<span id="id16"></span><h2>Фильтр<a class="headerlink" href="#characters-filter" title="Ссылка на этот заголовок">¶</a></h2>
<p>На вкладке Фильтр выполняется выборка из персонажей по досье. Подробнее про типы данных в досье можно прочитать в разделе <a class="reference internal" href="#characters-profile-editor"><span>Персонажи. Редактор досье</span></a>. Фильтрация строк и текстов происходит по наличию искомой строки в строке или тексте. Фильтрация по полям с единственным выбором происходит по выбору из предложенного списка значений. Чтобы сделать множественный выбор зажмите ctrl и выбирайте элементы в списке. Фильтрация для значений вида да/нет аналогична фильтрации по полям с единственным выбором. Фильтрация по числовым значениям требует указания числа и вида проверки: не важно, больше, равно, меньше. Обновление результата фильтрации происходит сразу после изменения параметров фильтра. В центральной части выводится результат фильтрации. Клик по заголовку таблицы выполняет сортировку по соответствующему полю + иконка.</p>
<p>Размер левого столбца с настройками фильтра персонажей можно регулировать с помощью таскаемого уголка (см. скриншот).</p>
<p>В верхнем левом углу добавлен список отображаемых полей (множественный выбор через ctrl/shift). Так же под заголовком фильтра указано количество результатов, возвращенное фильтром.</p>
<p>В версии НИМС 0.4.4u3 были добавлены следующие статистические столбцы в фильтр:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">Актив</span></code>, <code class="docutils literal"><span class="pre">Спутник</span></code>, <code class="docutils literal"><span class="pre">Защита</span></code>, <code class="docutils literal"><span class="pre">Пассив</span></code> - количество историй, в которых персонаж имеет указанный тип активности.</p>
<p><code class="docutils literal"><span class="pre">Завершённость</span> <span class="pre">адаптаций,</span> <span class="pre">%</span></code> - процент завершённых адаптаций для данного персонажа.</p>
<p><code class="docutils literal"><span class="pre">Количество</span> <span class="pre">историй</span></code> - количество историй, в которых принимает участие данный персонаж.</p>
</div></blockquote>
<div class="figure" id="id37">
<img alt="_images/2_2_characterFilter.jpg" src="_images/2_2_characterFilter.jpg" />
<p class="caption"><span class="caption-number">Fig. 19 </span><span class="caption-text">Вкладка Фильтр</span></p>
</div>
</div>
<div class="section" id="administrative-tools">
<span id="id17"></span><h2>Администрирование<a class="headerlink" href="#administrative-tools" title="Ссылка на этот заголовок">¶</a></h2>
<p>Когда мы думали над системой прав для НИМС одним из первых вопросов был: что делать, если пользователи почти одновременно изменили данные, и новые правки затерли предыдущие?
Рассматривались разные варианты, но мы решили пойти простым путем, исключающим возникновение данной ситуации. В текущей реализации можно посмотреть все что написано, но править данные может только их владелец. Владеть можно персонажами и историями. Так же данный подход исключает возможность несанкционированного, случайного и не очень редактирования другим автором. Право на адаптации может рассчитываться как от историй, так и от персонажей. Для этого в админке есть специальный переключатель.</p>
<p>Кто есть кто и что он может?</p>
<p>Админ</p>
<blockquote>
<div><ol class="arabic simple">
<li>может создавать пользователей</li>
<li>может удалять пользователей</li>
<li>не может удалить самого себя</li>
<li>может менять пользователям пароли</li>
<li>может назначать права на объекты</li>
<li>может отбирать права на объекты никому не передавая</li>
<li>может назначить редактора</li>
<li>может передать админство</li>
<li>может переключить правило назначения прав на адаптации - от истории или от персонажа</li>
<li>обзор и редактор досье - редактирует только админ</li>
<li>может перезалить базу полностью и только он</li>
</ol>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">Нельзя переименовать пользователя.</p>
</div>
<p>Редактор</p>
<blockquote>
<div><ol class="arabic simple">
<li>получает полный доступ ко всем объектам. Вновь созданные объекты тоже, без владения.</li>
<li>назначается админом</li>
<li>редактор может самостоятельно сложить с себя полномочия</li>
<li>может ли редактор переименовывать/удалять персонажей/истории - да</li>
</ol>
</div></blockquote>
<p>Автор</p>
<blockquote>
<div><ol class="arabic simple">
<li>может создавать истории и персонажей (права на созданные объекты принадлежат создателю)</li>
<li>может передавать свои права другим авторам</li>
<li>автор не может отобрать у самого себя права никому не передав</li>
</ol>
</div></blockquote>
<p>Всем</p>
<blockquote>
<div><ol class="arabic simple">
<li>сохранение базы в файл для автономной работы (не завершено)</li>
<li>экспорт вводных</li>
</ol>
</div></blockquote>
<p>Объекты и права на них</p>
<p>Изначально персонажи принадлежат создателям персонажей. Только владелец персонажа может редактировать его досье.</p>
<p>Изначально истории принадлежат создателям историй. Только владелец истории может добавлять в нее новые события и персонажей (можно не своих).</p>
<p>Права на адаптации определяются текущим режимом - наследуются от историй и наследуются от персонажей.</p>
<p>Права на объект могут не принадлежать никому.</p>
<div class="figure" id="id38">
<img alt="_images/8_adminTools.jpg" src="_images/8_adminTools.jpg" />
<p class="caption"><span class="caption-number">Fig. 20 </span><span class="caption-text">Вкладка Администрирование</span></p>
</div>
</div>
<div class="section" id="logs">
<span id="id18"></span><h2>Логи<a class="headerlink" href="#logs" title="Ссылка на этот заголовок">¶</a></h2>
<p>В новой версии НИМС было добавлено несколько защитных механизмов и один из них это логи. В логах мы можем посмотреть историю последних действий пользователей. Текущее ограничение - последняя 1000 операций. Возможно мы изменим эту цифру в будущем. Логируются следующие виды деятельности: сохранение/загрузка базы, обновление метаинформации кроме описания игры, управление персонажами/досье/историями, изменения в историях - управление событиями, изменение вида активности и инвентаря, отметки о готовности адаптаций и выгрузка вводных. В серверном режиме к этому списку добавляется все, что касается администрирования: управление пользователями, передача/назначение прав, изменение настроек. Основной принцип - мы не отслеживаем изменения текстов, но отслеживаем изменения в структуре базы.</p>
<p>Запись о событии содержит следующие поля:</p>
<blockquote>
<div><ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">№</span></code> - номер события в списке событий.</li>
<li><code class="docutils literal"><span class="pre">Дата</span></code> - время совершения события. На сервере будет использовано время сервера.</li>
<li><code class="docutils literal"><span class="pre">Пользователь</span></code> - пользователь от имени которого совершено событие. Может отсутствовать. Например, при автоматическом сохранении базы на сервере в логе указывается факт сохранения без пользователя.</li>
<li><code class="docutils literal"><span class="pre">Действия</span></code> - тип действия.</li>
<li><code class="docutils literal"><span class="pre">Параметры</span></code> - переданные параметры. С их помощью можно воспроизвести последовательность действий пользователя.</li>
</ol>
</div></blockquote>
<div class="figure" id="id39">
<img alt="_images/9_log.jpg" src="_images/9_log.jpg" />
<p class="caption"><span class="caption-number">Fig. 21 </span><span class="caption-text">Вкладка Логи</span></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="nims.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="nims.html">Оглавление</a></h3>
  <ul>
<li><a class="reference internal" href="#">Страницы</a><ul>
<li><a class="reference internal" href="#header-desc">Заголовок</a></li>
<li><a class="reference internal" href="#overview-desc">Обзор</a></li>
<li><a class="reference internal" href="#characters-desc">Персонажи</a></li>
<li><a class="reference internal" href="#characters-profile">Персонажи. Досье</a></li>
<li><a class="reference internal" href="#characters-profile-editor">Персонажи. Редактор досье</a></li>
<li><a class="reference internal" href="#story-desc">Истории</a></li>
<li><a class="reference internal" href="#story-events">Истории. События</a></li>
<li><a class="reference internal" href="#story-characters">Истории. Персонажи</a></li>
<li><a class="reference internal" href="#story-presence">Истории. Присутствие</a></li>
<li><a class="reference internal" href="#events-desc">Адаптации</a></li>
<li><a class="reference internal" href="#breifings-preview">Вводные. Предварительный просмотр</a></li>
<li><a class="reference internal" href="#breifings-export">Вводные. Экспорт</a></li>
<li><a class="reference internal" href="#timeline-desc">Хронология</a></li>
<li><a class="reference internal" href="#social-network-desc">Социальная сеть</a></li>
<li><a class="reference internal" href="#characters-filter">Фильтр</a></li>
<li><a class="reference internal" href="#administrative-tools">Администрирование</a></li>
<li><a class="reference internal" href="#logs">Логи</a></li>
</ul>
</li>
</ul>

  <h4>Предыдущий раздел</h4>
  <p class="topless"><a href="quickStart.html"
                        title="предыдущая глава">Быстрый старт</a></p>
  <h4>Следующий раздел</h4>
  <p class="topless"><a href="export.html"
                        title="следующая глава">Экспорт вводных</a></p>
  <div role="note" aria-label="source link">
    <h3>Эта страница</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pages.txt"
            rel="nofollow">Исходный текст</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Искать" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Введите слова для поиска или имя модуля, класса или функции.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="export.html" title="Экспорт вводных"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="quickStart.html" title="Быстрый старт"
             >назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="nims.html">Документация НИМС набор инструментов мастера-сюжетника 0.4.4u3</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Тимофей NtsDK Речкалов, Мария Матильда Сидехменова.
      Создано с помощью <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>