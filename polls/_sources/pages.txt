Страницы
========

.. _header-desc:

Заголовок
---------

Вверху страницы находятся основная навигация и кнопки для работы с базой. 

Основные вкладки 

	**Обзор** - общая информация о базе и статистика.

	**Участки** - добавление/удаление избирательных участков и их досье.

	**Выборы** - добавление/удаление выборов, заполнение информации о выборах: численность избирателей на участках и явка по времени на участки.

	**Сравнение выборов** - сравнение явки на выборы на указанное время.
	
	**О программе** - информация о создателях программы.
	
	**Фильтр** - поиск избирательных участков по досье.
	
Управление базой

	**Загрузить** - загрузка базы из файла.

	**Сохранить** - сохранение базы в файл.
	
	**Новая база** - создание новой базы.
	
	**Помощь** - открывает справку в новой вкладке.
	
	**Логи** - история действий пользователей "Ассистент выборы": создание/переименование/удаление избирательных участков и выборов и т.д.
	
.. figure:: images/0_header.jpg

	Заголовок

.. _overview-desc:
	
Обзор
-----

Это первая страница, открывающаяся при старте системы "Ассистент выборы". 

Содержание страницы

	``Название`` - здесь указывается название базы.
	
	``Время последнего сохранения базы`` - это время последнего сохранения базы в файл.
		
	``Описание`` - текст с описанием базы выборов. Тут можно делать заметки по базе.
	
	``Статистика`` - общие данные об открытой базе: 
  
		``количество выборов/избирательных участков`` 

.. figure:: images/1_1_overview.jpg
	
	Вкладка Обзор-Описание
	
На подвкладке Диаграммы приводятся стандартные гистограммы и круговые диаграммы. Число на столбце гистограммы означает высоту столбца. При наведении мышью на столбец приводится детализация: значение и дополнительная информация. Над круговыми диаграммами показывается название доли и её размер.

Диаграммы досье избирательных участков строятся автоматически для полей вида число (гистограмма), единственный выбор и галочка (круговая диаграмма).
  
.. figure:: images/1_2_diagrams.jpg
	
	Вкладка Обзор-Диаграммы
	
.. _characters-desc:

Участки
-------

На странице ``Участки`` есть общая часть и две дополнительных вкладки: досье и редактор досье.

Общая часть включает в себя элементы для создания/переименование/удаления избирательных участков в верхней части вкладки.

.. figure:: images/2_1_characterProfile.jpg

	Вкладка Участки

.. _characters-profile:
	
Участки. Досье
----------------

На вкладке ``Досье`` происходит заполнение досье участка. В левой части экрана выбирается участок. По центру показано досье. Внесенные в досье изменения сохраняются автоматически. Подробнее про типы данных в досье можно прочитать в описании ``Редактора досье``.

.. figure:: images/2_1_characterProfile.jpg

	Вкладка Участки. Досье

.. _characters-profile-editor:
	
Участки. Редактор досье
-------------------------

На вкладке ``Редактор досье`` выполняется редактирование досье участков: добавление/изменение/удаление полей в досье. В верхней части вкладки находятся элементы управления для создания, перемещения и удаления полей. Имена полей должны быть уникальны. Все текущие поля показаны в таблице: ```Название``, ``Тип``, ``Значения`` и ``Печатать во вводных``. То, что указано в поле ``Значения`` является значением по умолчанию для всех полей, кроме единственного выбора. В единственном выборе значением по умолчанию является первый элемент.

Типы полей:

	``Текст`` - поле для хранения текстовых данных.

	``Строка`` - поле хранит одну строку.

	``Единственный выбор`` - поле содержащее перечисление значений из которых может быть выбрано только одно. Значения единственного выбора указываются через запятую. Первое значение является значением по умолчанию.

	``Число`` - числовое значение.

	``Галочка`` - поле хранит значение да/нет.

.. figure:: images/2_3_characterProfileConfigurer.jpg

	Вкладка Участки. Редактор досье
	
.. _story-desc:

Выборы
------

На странице ``Выборы`` осуществляется заполнение явки на выборы. В общую часть входят следующие элементы: создание/переименование/удаление выборов, заполнение текстового комментария выборов. При работе с выборами можно включить режим работы с одной вкладкой или с двумя вкладками. Можно выбрать любую комбинацию вкладок. Чтобы спрятать вкладку кликните на активный заголовок. На данном рисунке активны две панели. Далее будут скриншоты и для однопанельного режима.

В левой верхней части экрана расположено выпадающее меню для отображения текущих выборов.

.. figure:: images/3_1_masterStory.jpg

	Вкладка Выборы
	
.. _story-events:

Выборы. Избиратели
------------------

На вкладке ``Избиратели`` выполняется заполнение явки избирателей на выборах. В первом столбце указывается название участка, во втором общая численность избирателей, прикрепленная к этому участку. В процессе выборов кого-то вычеркивают из списков, кто-то наоборот приходит с открепительными, поэтому это число меняется. В остальных столбцах фиксируется явка на соответствующее время.

.. figure:: images/3_2_storyEvents.jpg

	Вкладка События
	
.. _story-characters:

Сравнение выборов
-----------------

На вкладке ``Сравнение выборов`` производится сравнение любой пары выборов между собой. Для этого в верхней части экрана необходимо выбрать текущие выборы (можно и прошедшие), прошедшие выборы и временную отсечку. После этого будет автоматически сформирована таблица. Клик по заголовку таблицы выполняет сортировку по заданному столбцу. Повторный клик меняет направление сортировки. 

В таблице содержатся следующие столбцы:

	``Участок`` - название избирательного участка.
	
	``Ответственный`` - ответственный за избирательный участок. Берется из досье.
	
	``Явка на текущих выборах, %`` - отношение количества избирателей пришедших на участок к общему числу избирателей, закрепленных на участке на текущих выборах. 
	
	``Явка на прошедших выборах, %`` - отношение количества избирателей пришедших на участок к общему числу избирателей, закрепленных на участке на прошедших выборах. 
	
	``Абсолютная разница, чел`` - разница явок избирателей.
	
	``Относительная разница, %`` - разница относительных явок избирателей.
	
Строки таблицы закрашиваются в цвета в соответствии с разницей относительных явок избирателей (последний столбец). Если разницы нет, то строка закрашивается белым. Если наблюдается повышенная явка, то оттенками зеленого. Если пониженная явка, то оттенками красного.

.. figure:: images/3_3_storyCharacters_1.jpg

	Вкладка Сравнение выборов. Таблица

В правом верхнем углу находится галочка ``Показать график``. При активации галочки над таблицей будет нарисован точечный график сравнения явки. По оси абсцисс указывается относительная явка на прошедших выборах (4-ый столбец таблицы), по оси ординат указывается относительная явка на текущих выборах (3-ий столбец таблицы). Точки раскрашиваются теми же цветами, что и строки таблицы. При наведении мышки на точку во всплывающем сообщении показывается название участка и сведения о явке.

На вкладке Персонажи выполняется добавление/удаление/замещение персонажей в истории. При замещении все данные от старого персонажа переходят к новому. Так что да, Ромео не приехал, его место займет Меркуцио)

Здесь же приведено две таблицы. Первая таблица указывает вид активности персонажа в истории. Описание видов активности приведено в разделе :ref:`secondary-entities-desc`.

.. figure:: images/3_3_storyCharacters_2.jpg

	Вкладка Сравнение выборов. График

.. _story-presence:
	
О программе
-----------

На этой вкладке указана информация об авторах, лицензировании и об использованных программных библиотеках и ресурсах.
	
.. _characters-filter:
	
Фильтр
------

На вкладке Фильтр выполняется выборка из избирательных участков по досье. Подробнее про типы данных в досье можно прочитать в разделе :ref:`characters-profile-editor`. Фильтрация строк и текстов происходит по наличию искомой строки в строке или тексте. Фильтрация по полям с единственным выбором происходит по выбору из предложенного списка значений. Чтобы сделать множественный выбор зажмите ctrl и выбирайте элементы в списке. Фильтрация для значений вида да/нет аналогична фильтрации по полям с единственным выбором. Фильтрация по числовым значениям требует указания числа и вида проверки: не важно, больше, равно, меньше. Обновление результата фильтрации происходит сразу после изменения параметров фильтра. В центральной части выводится результат фильтрации. Клик по заголовку таблицы выполняет сортировку по соответствующему полю + иконка. 

В верхнем левом углу добавлен список отображаемых полей (множественный выбор через ctrl/shift). Так же под заголовком фильтра указано количество результатов, возвращенное фильтром.

.. figure:: images/2_2_characterFilter.jpg

	Вкладка Фильтр
  
.. _logs:
  
Логи
----
  
В логах мы можем посмотреть историю последних действий пользователей. Текущее ограничение - последняя 1000 операций. Логируются следующие виды деятельности: сохранение/загрузка базы, управление избирательными участками и выборами, изменение структуры досье. В текущий момент не сохраняются данные об изменениях данных о явке. 

Запись о событии содержит следующие поля:

	1. ``№`` - номер события в списке событий.
	2. ``Дата`` - время совершения события.
	3. ``Пользователь`` - пользователь от имени которого совершено событие. В системе "Ассистент выборы" только один пользователь по умолчанию.
	4. ``Действия`` - тип действия.
	5. ``Параметры`` - переданные параметры.
	
.. figure:: images/9_log.jpg

	Вкладка Логи
  